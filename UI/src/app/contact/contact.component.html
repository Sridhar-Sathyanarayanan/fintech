<div class="contact-page">
  <!-- Banner Section -->
  <app-banner-section
    title="Contact Us"
    gradientText=""
    subtitle="Questions or feedback? We're here to help."
    badge="Get in Touch"
    badgeIcon="support_agent">
  </app-banner-section>

  <!-- Main Content -->
  <section class="contact-content">
    <div class="content-container">
      <!-- Contact Form -->
      <div class="form-section">
        <mat-card class="form-card">
          <div class="card-header">
            <mat-icon class="header-icon" aria-hidden="true">email</mat-icon>
            <div>
              <h2 class="card-title">Send us a Message</h2>
              <p class="card-subtitle">
                We'll respond within 24 hours
              </p>
            </div>
          </div>

          <form [formGroup]="contactForm" (ngSubmit)="sendFeedback()" class="contact-form">
            <div class="form-row">
              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Your Name</mat-label>
                <input matInput formControlName="name" placeholder="John Doe" />
                <mat-icon matPrefix>person</mat-icon>
                @if (name?.invalid && name?.touched) {
                <mat-error>
                  @if (name?.errors?.['required']) { Name is required } @if
                  (name?.errors?.['minlength']) { Name must be at least 2
                  characters }
                </mat-error>
                }
              </mat-form-field>

              <mat-form-field appearance="outline" class="form-field">
                <mat-label>Your Email</mat-label>
                <input matInput formControlName="email" type="email" placeholder="john@example.com" />
                <mat-icon matPrefix>email</mat-icon>
                @if (email?.invalid && email?.touched) {
                <mat-error>
                  @if (email?.errors?.['required']) { Email is required } @if
                  (email?.errors?.['email']) { Please enter a valid email }
                </mat-error>
                }
              </mat-form-field>
            </div>

            <mat-form-field appearance="outline" class="form-field full-width">
              <mat-label>Subject</mat-label>
              <input matInput formControlName="subject" placeholder="How can we help you?" />
              <mat-icon matPrefix>subject</mat-icon>
              @if (subject?.invalid && subject?.touched) {
              <mat-error>Subject is required</mat-error>
              }
            </mat-form-field>

            <mat-form-field appearance="outline" class="form-field full-width">
              <mat-label>Your Message</mat-label>
              <textarea matInput formControlName="message" rows="6"
                placeholder="Tell us more about your inquiry..."></textarea>
              <mat-icon matPrefix>message</mat-icon>
              @if (message?.invalid && message?.touched) {
              <mat-error>
                @if (message?.errors?.['required']) { Message is required } @if
                (message?.errors?.['minlength']) { Message must be at least 10
                characters }
              </mat-error>
              }
            </mat-form-field>

            <div class="form-actions">
              @if (!loading()) {
              <button mat-raised-button color="primary" type="submit" class="submit-button">
                <mat-icon>send</mat-icon>
                Send Message
              </button>
              } @else {
              <button mat-raised-button color="primary" type="button" class="submit-button" disabled aria-busy="true" aria-label="Sending message">
                <mat-spinner diameter="24" strokeWidth="3" aria-hidden="true"></mat-spinner>
                Sending...
              </button>
              } @if (formSubmitted()) {
              <div class="success-message" role="status" aria-live="polite">
                <mat-icon aria-hidden="true">check_circle</mat-icon>
                <span>Message sent successfully!</span>
              </div>
              }
            </div>
          </form>
        </mat-card>
      </div>

      <!-- Contact Info Sidebar -->
      <div class="info-section">
        <!-- Contact Details -->
        <mat-card class="info-card">
          <h3 class="info-title">
            <mat-icon aria-hidden="true">contact_phone</mat-icon>
            Contact Information
          </h3>
          <div class="contact-details">
            @for (info of contactInfo; track info.title) {
            <div class="contact-item" [class.clickable]="info.link" (click)="openLink(info.link)" matRipple>
              <div class="item-icon">
                <mat-icon>{{ info.icon }}</mat-icon>
              </div>
              <div class="item-content">
                <span class="item-title">{{ info.title }}</span>
                <span class="item-value">{{ info.value }}</span>
              </div>
            </div>
            }
          </div>
        </mat-card>

        <!-- Social Links -->
        <mat-card class="social-card">
          <h3 class="info-title">
            <mat-icon aria-hidden="true">share</mat-icon>
            Connect With Us
          </h3>
          <div class="social-links">
            @for (social of socialLinks; track social.name) {
            <a [href]="social.url" target="_blank" rel="noopener noreferrer" class="social-link" [style.background-color]="social.color"
              [attr.aria-label]="'Connect with us on ' + social.name"
              matRipple>
              <mat-icon aria-hidden="true">{{ social.icon }}</mat-icon>
              <span>{{ social.name }}</span>
            </a>
            }
          </div>
        </mat-card>

        <!-- Quick FAQ -->
      </div>
    </div>
  </section>
  <div class="support info-section">
    <section class="support-section">
      <div class="support-container">
        <mat-icon class="support-icon" aria-hidden="true">headset_mic</mat-icon>
        <h2>Need Immediate Assistance?</h2>
        <p>
          Our support team is available during business hours to help you with
          any urgent queries.
        </p>
        <div class="support-actions">
          <button mat-raised-button color="primary" aria-label="Call support now">
            <mat-icon aria-hidden="true">phone</mat-icon>
            Call Now
          </button>
        </div>
      </div>
    </section>
    <mat-card class="faq-card">
      <h3 class="info-title">
        <mat-icon aria-hidden="true">help_outline</mat-icon>
        Quick FAQs
      </h3>
      <div class="faq-list">
        @for (faq of faqs; track faq.question) {
        <div class="faq-item">
          <div class="faq-question">
            <mat-icon>chevron_right</mat-icon>
            <span>{{ faq.question }}</span>
          </div>
          <div class="faq-answer">{{ faq.answer }}</div>
        </div>
        }
      </div>
    </mat-card>
  </div>
  <!-- Additional Support Section -->
</div>
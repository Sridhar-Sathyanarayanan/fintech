<div class="container mt-5">
  <div class="row">
    <!-- Left Card -->
    <div class="col-md-6 mb-4">
      <mat-card class="p-4">
        <h4 class="mb-4">Home Loan Calculator</h4>

        <div class="form-group mb-4">
          <label for="amount">Loan Amount (₹)</label>
          <div class="d-flex align-items-center">
            <input type="range" id="amount" class="form-range" min="100000" max="10000000" step="10000"
              [(ngModel)]="loanAmount" (input)="updateCalculation()" />
            <input type="text" class="form-control ms-3" style="width: 120px;" [(ngModel)]="loanAmount" (input)="updateCalculation()">
          </div>
        </div>

        <div class="form-group mb-4">
          <label for="rate">Interest Rate (%)</label>
          <div class="d-flex align-items-center">
            <input type="range" id="rate" class="form-range" min="5" max="15" step="0.1"
              [(ngModel)]="interestRate" (input)="updateCalculation()" />
            <input type="text" class="form-control ms-3" style="width: 120px;" [(ngModel)]="interestRate" (input)="updateCalculation()">
          </div>
        </div>

        <div class="form-group mb-4">
          <label for="tenure">Tenure (years)</label>
          <input type="number" id="tenure" class="form-control" [(ngModel)]="loanTenure" (input)="updateCalculation()" min="1" max="30">
        </div>

        <button mat-raised-button color="primary" class="w-100" (click)="calculateEMI()">
          Calculate
        </button>
      </mat-card>
    </div>

    <!-- Right Card -->
    <div class="col-md-6 mb-4">
      <mat-card class="p-4 text-center">
        <h5 class="mb-4">Loan Summary</h5>

        <div >
          <div class="mb-4">
            <p><strong>Monthly EMI:</strong> ₹{{ monthlyEMI | number:'1.0-2' }}</p>
            <p><strong>Total Interest Payable:</strong> ₹{{ totalInterest | number:'1.0-2' }}</p>
            <p><strong>Total Amount Payable:</strong> ₹{{ totalPayment | number:'1.0-2' }}</p>
          </div>

          <div class="d-flex justify-content-center">
            <div style="width: 250px; height: 250px">
              <canvas baseChart [data]="{
                  labels: pieChartLabels,
                  datasets: [{ data: pieChartData }]
                }" [type]="pieChartType">
              </canvas>
            </div>
          </div>
         </div> 
        <ng-template #emptyState>
          <p>Enter details and click Calculate</p>
        </ng-template>
      </mat-card>
    </div>
  </div>

  <!-- New Content Section Below Cards -->
  <div class="row mt-5">
    <div class="col-12">
      <mat-card class="p-4">
        <h4>What is a Home Loan Calculator?</h4>
        <p class="mt-3">
          A Home Loan Calculator is an easy-to-use online tool that helps you estimate your monthly loan repayment amount (EMI)
          based on the loan amount, interest rate, and tenure you choose. It helps you plan your finances better by giving
          you a clear idea of the monthly commitment required before applying for a home loan.
        </p>

        <h5 class="mt-4">Benefits of Using a Home Loan Calculator</h5>
        <ul class="mt-2">
          <li>Quickly calculate EMI without manual formulas.</li>
          <li>Adjust loan amount, interest rate, and tenure to see different EMI scenarios.</li>
          <li>Plan your budget and loan repayment strategy effectively.</li>
          <li>Understand the total interest payable over the loan period.</li>
        </ul>

        <h5 class="mt-4">How Does It Work?</h5>
        <p class="mt-2">
          Simply enter the loan amount you wish to borrow, the interest rate offered by your lender, and the tenure
          (in years). The calculator will instantly display your Monthly EMI, total interest payable, and total repayment amount.
          This helps you make informed decisions before committing to a loan.
        </p>
      </mat-card>
    </div>
  </div>
</div>

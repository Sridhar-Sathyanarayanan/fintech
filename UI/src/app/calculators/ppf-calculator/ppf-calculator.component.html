<section class="ppf-calculator py-5">
  <div class="text-center mb-5">
    <h1 class="fw-bold text-success">PPF Calculator</h1>
    <p class="lead text-muted">
      Estimate the maturity amount of your Public Provident Fund (PPF) investment effortlessly!
    </p>
  </div>

  <div class="d-flex flex-column align-items-center p-3 p-md-4" style="gap: 2rem;">
    <!-- PPF Calculator Card -->
    <mat-card class="w-100" style="max-width: 850px; padding: 1.5rem;">
      <mat-card-title class="text-center skyblue-heading mb-4">PPF Calculator</mat-card-title>

      <!-- Interest Rate Display -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <label class="skyblue-label mb-0">Fixed Interest Rate</label>
        <span class="skyblue-badge">8.1%</span>
      </div>

      <!-- Frequency of Investment (Responsive) -->
     <!-- Frequency of Investment -->
<div class="mb-4">
  <div class="d-flex justify-content-between align-items-center flex-wrap">
    <label class="skyblue-label mb-2 mb-md-0">Frequency of Investment</label>

    <!-- For desktop -->
    <div class="d-none d-md-flex gap-2">
      <span class="skyblue-badge" [class.selected]="frequency==='yearly'" (click)="frequency='yearly'">Yearly</span>
      <span class="skyblue-badge" [class.selected]="frequency==='halfyearly'" (click)="frequency='halfyearly'">Half Yearly</span>
      <span class="skyblue-badge" [class.selected]="frequency==='quarterly'" (click)="frequency='quarterly'">Quarterly</span>
      <span class="skyblue-badge" [class.selected]="frequency==='monthly'" (click)="frequency='monthly'">Monthly</span>
    </div>

    <!-- For mobile -->
    <div class="d-md-none w-100 text-end">
      <select class="form-select w-100 mt-2" [(ngModel)]="frequency">
        <option value="yearly">Yearly</option>
        <option value="halfyearly">Half Yearly</option>
        <option value="quarterly">Quarterly</option>
        <option value="monthly">Monthly</option>
      </select>
    </div>
  </div>
</div>


      <!-- Investment Amount -->
      <div class="row align-items-center mb-4">
        <div class="col-md-5">
          <label class="form-label skyblue-label">Yearly PPF Investment</label>
          <small class="text-muted d-block">â‚¹500 - â‚¹1,50,000</small>
        </div>
        <div class="col-md-7 d-flex align-items-center gap-3">
          <input type="range" class="form-range slider-blue flex-grow-1" min="500" max="150000" step="500" [(ngModel)]="investmentAmount" />
          <input type="number" class="form-control w-50 w-md-25" min="500" max="150000" step="500" [(ngModel)]="investmentAmount" />
        </div>
      </div>

      <!-- Duration -->
      <div class="row align-items-center mb-4">
        <div class="col-md-5">
          <label class="form-label skyblue-label">Number of Years</label>
          <small class="text-muted d-block">1 - 30 years</small>
        </div>
        <div class="col-md-7 d-flex align-items-center gap-3">
          <input type="range" class="form-range slider-blue flex-grow-1" min="1" max="30" step="1" [(ngModel)]="years" />
          <input type="number" class="form-control w-50 w-md-25" min="1" max="30" step="1" [(ngModel)]="years" />
        </div>
      </div>

      <!-- Calculate Button -->
      <div class="text-center mt-4">
        <button mat-raised-button color="primary" (click)="calculatePPF()">Calculate</button>
      </div>
    </mat-card>

    <!-- Summary -->
    <mat-card class="w-100 text-center" style="max-width: 850px; padding: 1.5rem;">
      <mat-card-title class="skyblue-heading mb-3">Summary</mat-card-title>
      <div class="skyblue-label mb-4">
        <p><strong>Total Invested:</strong> â‚¹{{ totalInvested | number:'1.0-0' }}</p>
        <p><strong>Interest Earned:</strong> â‚¹{{ interestEarned | number:'1.0-0' }}</p>
        <p><strong>Maturity Amount:</strong> â‚¹{{ maturityAmount | number:'1.0-0' }}</p>
      </div>

      <!-- Doughnut Chart -->
      <div style="max-width: 300px; margin: 0 auto;">
        <canvas baseChart [data]="{ labels: doughnutChartLabels, datasets: [{ data: doughnutChartData }] }" [type]="doughnutChartType"></canvas>
      </div>
    </mat-card>

    <!-- Info Section -->
    <div class="container">
      <div class="row align-items-center mt-5">
        <!-- About PPF -->
        <div class="col-lg-6 mb-4 mb-lg-0">
          <h2 class="fw-bold text-primary mb-3">ðŸ§¾ What is a PPF?</h2>
          <p>
            The <strong>Public Provident Fund (PPF)</strong> is a long-term savings scheme backed by the Government of India,
            offering attractive interest rates and tax benefits.
          </p>
          <ul class="list-unstyled">
            <li>âœ… Tax-free returns under Section 80C</li>
            <li>âœ… Safe and risk-free investment</li>
            <li>âœ… Flexible deposit options (â‚¹500 to â‚¹1.5 lakh per year)</li>
          </ul>
        </div>

        <!-- Example -->
        <div class="col-lg-6 text-center">
          <h2 class="fw-bold text-success mb-3">ðŸ“ˆ Example Calculation</h2>
          <p class="mb-3">Suppose you invest <strong>â‚¹1,50,000</strong> every year for <strong>15 years</strong> at <strong>7.1%</strong> annual interest.</p>
          <p class="lead">ðŸ”¥ <strong>Estimated Maturity Amount â‰ˆ â‚¹40+ Lakhs!</strong></p>
          <p class="text-muted mb-4">(*Note: Interest rates are subject to government changes.)</p>
          <a class="btn btn-success btn-lg px-4 py-2" [routerLink]="'/ppf-calculator'">
            <i class="bi bi-cash-coin me-2"></i>Calculate Now
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
